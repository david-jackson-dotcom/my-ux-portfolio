/* --- Absolute Margin/Padding Reset for HTML and Body --- */
/* Setting height: 100% and overflow: hidden/clip ensures the entire viewport is managed */
html {
    height: 100%;
    margin: 0;
    padding: 0;
    overflow-x: hidden; /* Prevent horizontal scroll on mobile */
}
body {
    height: 100%;
    margin: 0;
    padding: 0;
    overflow: auto; /* Allow vertical scrolling if content exceeds height */
    background-color: #ccc;
    font-family: sans-serif;
}
/* style.css - LATEST REVISION: FINAL MARGIN FIX (html/body overflow) */

/* --- Reset and Base Styles --- */
.page-container {
    /* DESKTOP: Sets up the main background and boundary */
    position: relative; /* CRITICAL: Required anchor for absolute children */
    width: 100vw;
    min-height: 100vh;
    max-width: 100%;
    display: block;
    background-color: #ccc;
}

/* --- Image Wrapper and Z-index Management (Desktop/Default) --- */
.image-wrapper {
    /* Absolute positioning for precise control relative to .page-container */
    position: absolute;
    top: 0; /* Pinned to the top of the viewport */
    left: 50%; /* Start at center */
    transform: translateX(-50%); /* Pull back by half its width for perfect centering */

    z-index: 10;

    display: block;
    width: 792px;
    height: 612px;

}

/* This is the 792x612 coordinate system anchor */
.button-anchor {
    position: relative;
    width: 100%;
    height: 100%;
}

.full-page-image {
    /* Dimensions remain fixed for desktop */
    width: 792px;
    height: 612px;
    display: block;
    border: 1px solid gray;
    filter: none;
    transition: none;
    /* CRITICAL FIX: Make image absolute to take it out of flow, allowing button-anchor to overlap */
    position: absolute;
    top: 0;
    left: 0;
    /* FIX: Strike all margins/padding around images with high priority */
    margin: 0 !important;
    padding: 0 !important;
}

/* --- Remote Resource Button Placement (Desktop/Default) --- */
.action-button-wrapper {
    position: absolute; /* Positioned correctly relative to .button-anchor */
    z-index: 20;

    /* FIX: Establish fixed size on the wrapper for reliable desktop viewing (40px x 40px) */
    width: 40px;
    height: 40px;
}

/* Button Graphic Styling: Creates the transparent hotspot */
.custom-graphic-button img {
    display: block;
    width: 100%; /* Fills the parent wrapper's size */
    height: 100%;
    border: none;
    opacity: 0; /* Fully invisible transparent hotspot */
    cursor: pointer;
}

/* --- Specific Page Button Placement (Desktop Coordinates) --- */
#page-4 .action-button-wrapper { top: 540px; left: 644px; }
#page-7 .action-button-wrapper { top: 540px; left: 137px; }
#page-8 .action-button-wrapper { top: 540px; left: 638px; }

/* --- Navigation Buttons (Desktop Alignment: Below Image) */
.navigation {
    /* Must be absolute to sit below the absolute image wrapper */
    position: absolute;
    top: 632px; /* 612px (image height) + 20px (margin) */
    left: 50%; /* Start at center */
    transform: translateX(-50%); /* Pull back by half its width for perfect centering */

    z-index: 30;

    /* Set fixed width (792px) for perfect desktop alignment with the image */
    width: 792px;

    /* Flexbox settings for split alignment */
    display: flex;
    justify-content: space-between;
    align-items: center;

}

.prev-page-link,
.next-page-link {
    /* Combined styles for both links (These are the defaults that apply to all screen sizes) */
    color: white;
    background-color: #000;
    padding: 10px 15px;
    text-decoration: none;
    border-radius: 5px;
    font-size: 16px;
    border: 1px solid red;
    display: inline-block;
}
.app-link {
    color: white;
    background-color: red;
    padding: 10px 15px;
    text-decoration: none;
    border-radius: 5px;
    font-size: 16px;
    border: 1px solid black;
    display: inline-block;
}

/* ------------------------------------------------------------------- */
/* --- REPLACEMENT: MEDIA QUERY for Mobile Devices (Safer, mobile-friendly) --- */
/* ------------------------------------------------------------------- */
@media screen and (max-width: 792px), screen and (max-width: 1024px) and (orientation: landscape) {

    /* Page container: avoid 100vw; prefer 100% and a mobile-friendly height approach */
    .page-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: flex-end;

        width: 100%;
        max-width: 100%;
        /* Use modern dynamic viewport unit where supported; fallback to 100vh */
        min-height: 100dvh;
        min-height: 100vh; /* fallback */
        padding-top: 0;
        padding-bottom: 70px;
        box-sizing: border-box;
    }

    /* Image wrapper: flow-based and responsive width */
    .image-wrapper {
        position: relative; /* child absolute positioning is relative to this */
        width: 90%;
        max-width: 792px;
        margin: 0 auto;
        left: auto;
        transform: none;
        display: block;
        box-sizing: border-box;
    }

    /* Establish a reliable aspect-ratio for the image area so percent-based absolute children work */
    /* 612 / 792 = 0.772727... => 77.2727% */
    .button-anchor {
        position: relative;
        width: 100%;
        /* padding-top creates a height proportional to width */
        padding-top: 77.272727%;
        height: 0; /* height defined by padding-top */
        box-sizing: border-box;
        overflow: visible; /* keep absolutely positioned buttons visible */
    }

    /* Make the image fill the anchor cleanly (use object-fit for natural scaling) */
    .full-page-image {
        position: absolute;
        inset: 0;         /* top:0; right:0; bottom:0; left:0; */
        width: 100%;
        height: 100%;
        object-fit: cover; /* or contain, depending on how you want the image to scale */
        margin: 0 !important;
        padding: 0 !important;
        border: none;
    }

    /* Action button: use percentages (relative to .button-anchor) and keep square via aspect-ratio */
    .action-button-wrapper {
        position: absolute; /* positioned relative to .button-anchor */
        z-index: 20;

        /* Size: 5.05% of the container width/height — parent has a definite height via padding-top */
        width: 5.05%;
        height: 5.05%;

        /* Make the hit-area behave as a square */
        min-width: 28px;    /* ensure a usable tap target on very small screens */
        min-height: 28px;
        box-sizing: border-box;

        /* Improve mobile touch behavior */
        -webkit-tap-highlight-color: transparent;
        touch-action: manipulation;
    }

    /* Precomputed proportional coordinates for each page button */
    /* Top percentages precomputed (540 / 612 ≈ 88.2353%) */
    /* Left percentages precomputed (644/792 ≈ 81.3131%, 137/792 ≈ 17.2980%, 638/792 ≈ 80.5556%) */
    #page-4 .action-button-wrapper { top: 88.2353%; left: 81.3131%; }
    #page-7 .action-button-wrapper { top: 88.2353%; left: 17.2980%; }
    #page-8 .action-button-wrapper { top: 88.2353%; left: 80.5556%; }

    /* Navigation: put back into flow and full width */
    .navigation {
        position: relative;
        top: auto;
        left: auto;
        transform: none;
        margin-top: 16px;
        margin-bottom: 40px;
        width: 100%;
        display: flex;
        justify-content: space-between;
        align-items: center;
        box-sizing: border-box;
        padding: 0 6%;
    }

    /* Slightly smaller touch-friendly controls */
    .prev-page-link,
    .next-page-link {
        padding: 8px 12px;
        font-size: 14px;
        display: inline-block;
        -webkit-tap-highlight-color: transparent;
        touch-action: manipulation;
    }

}
